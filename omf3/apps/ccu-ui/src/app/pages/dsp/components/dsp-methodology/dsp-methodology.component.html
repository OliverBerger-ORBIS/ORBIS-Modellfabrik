<div class="dsp-methodology">
  <h2 class="dsp-methodology__title">{{ sectionTitle }}</h2>
  <p class="dsp-methodology__subtitle">{{ sectionSubtitle }}</p>

  <div class="dsp-methodology__phase-grid">
    <button
      *ngFor="let phase of phases; trackBy: trackById"
      class="phase-card"
      [class.phase-card--active]="phase.id === activePhaseId"
      [class.phase-card--autonomous]="phase.isAutonomousAdaptive"
      (click)="setActive(phase.id)"
      type="button"
    >
      <div class="phase-card__icon">
        <img [src]="phase.icon" [alt]="phase.title" />
      </div>
      <div class="phase-card__label">Phase {{ phase.number }}</div>
      <div class="phase-card__title">{{ phase.title }}</div>
    </button>
  </div>

  <ng-container *ngIf="activePhase as phase">
    <article class="dsp-phase-detail" [class.dsp-phase-detail--autonomous]="phase.isAutonomousAdaptive">
      <header class="dsp-phase-detail__header">
        <div class="dsp-phase-detail__icon">
          <img [src]="phase.icon" [alt]="phase.title" />
        </div>
        <div>
          <div class="dsp-phase-detail__number">Phase {{ phase.number }}</div>
          <h3 class="dsp-phase-detail__title">{{ phase.title }}</h3>
          <p class="dsp-phase-detail__summary">{{ phase.summary }}</p>
        </div>
      </header>

      <div class="dsp-phase-detail__content">
        <div class="dsp-phase-detail__section">
          <h4 class="dsp-phase__section-title" i18n="@@dspPhaseActivities">Activities</h4>
          <ul class="dsp-phase__list">
            <li *ngFor="let activity of phase.activities" class="dsp-phase__item">
              {{ activity }}
            </li>
          </ul>
        </div>

        <div class="dsp-phase-detail__section">
          <h4 class="dsp-phase__section-title" i18n="@@dspPhaseOutcome">Outcome</h4>
          <p class="dsp-phase__outcome">{{ phase.outcome }}</p>
        </div>
      </div>
    </article>
  </ng-container>
</div>
