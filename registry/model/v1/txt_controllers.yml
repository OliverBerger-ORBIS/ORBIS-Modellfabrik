metadata:
  version: "1.0.0"
  description: "TXT Controller Discovery und Management"
  last_updated: "2025-09-19"
  author: "OMF Development Team"

# TXT Controller Konfiguration
txt_controllers:
  SVR4H73275:  # DPS
    role: "CCU"
    module_type: "DPS"
    functions: ["warehouse", "nfc", "camera", "order_management"]
    expected_topics:
      - "module/v1/ff/SVR4H73275/factsheet"
      - "module/v1/ff/SVR4H73275/state"
      - "module/v1/ff/NodeRed/SVR4H73275/factsheet"
      - "module/v1/ff/NodeRed/SVR4H73275/state"
    discovery_timeout: 30  # Sekunden
    
  SVR4H76530:  # AIQS
    role: "quality_control"
    module_type: "AIQS"
    functions: ["ai_recognition", "camera", "quality_check"]
    expected_topics:
      - "module/v1/ff/SVR4H76530/factsheet"
      - "module/v1/ff/SVR4H76530/state"
      - "module/v1/ff/NodeRed/SVR4H76530/factsheet"
      - "module/v1/ff/NodeRed/SVR4H76530/state"
    discovery_timeout: 30
    
  SVR4H76449:  # HBW
    role: "warehouse"
    module_type: "HBW"
    functions: ["storage", "retrieval"]
    expected_topics:
      - "module/v1/ff/SVR4H76449/factsheet"
      - "module/v1/ff/SVR4H76449/state"
    discovery_timeout: 30
    
  SVR3QA0022:  # MILL
    role: "machining"
    module_type: "MILL"
    functions: ["milling"]
    expected_topics:
      - "module/v1/ff/SVR3QA0022/factsheet"
      - "module/v1/ff/SVR3QA0022/state"
    discovery_timeout: 30
    
  SVR3QA2098:  # DRILL
    role: "machining"
    module_type: "DRILL"
    functions: ["drilling"]
    expected_topics:
      - "module/v1/ff/SVR3QA2098/factsheet"
      - "module/v1/ff/SVR3QA2098/state"
    discovery_timeout: 30

# Discovery-Konfiguration
discovery_config:
  factsheet_topics:
    - "module/v1/ff/+/factsheet"
    - "module/v1/ff/NodeRed/+/factsheet"
  
  state_topics:
    - "module/v1/ff/+/state"
    - "module/v1/ff/NodeRed/+/state"
  
  online_timeout: 30  # Sekunden
  discovery_interval: 10  # Sekunden

# VDA5050 Konfiguration
vda5050_config:
  workpiece_types: ["RED", "BLUE", "WHITE"]
  order_types: ["STORAGE", "RETRIEVAL", "TRANSPORT"]
  action_states: ["WAITING", "RUNNING", "FINISHED", "FAILED"]
  operating_modes: ["TEACHIN", "AUTOMATIC"]
  quality_states: ["OK", "NOT-OK", "PENDING", "FAILED"]

# System Control Konfiguration
system_control_config:
  commands:
    reset:
      topic: "ccu/set/reset"
      description: "Factory Reset"
      parameters: {}
      qos: 2
      retain: false
      
    charge:
      topic: "ccu/set/charge"
      description: "FTS Charge"
      parameters: {"charge": True}
      qos: 2
      retain: false
      
    layout:
      topic: "ccu/set/layout"
      description: "Layout Management"
      parameters: {}
      qos: 2
      retain: false
      
    flows:
      topic: "ccu/set/flows"
      description: "Flow Control"
      parameters: {}
      qos: 2
      retain: false
      
    calibration:
      topic: "ccu/set/calibration"
      description: "System Calibration"
      parameters: {}
      qos: 2
      retain: false
      
    park:
      topic: "ccu/set/park"
      description: "Park Factory"
      parameters: {}
      qos: 2
      retain: false
