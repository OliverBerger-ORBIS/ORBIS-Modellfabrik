metadata:
  version: 2.1.0
  last_updated: '2025-10-09'
  author: OMF Development Team
  description: FTS Topics mit QoS/Retain und Publisher/Subscriber-Mapping (erweitert mit Session-Analyse)
category: fts
fts_topics:
- topic: fts/v1/ff/5iO4/connection
  qos: 1
  retain: 1
  schema: fts_v1_ff_serial_connection.schema.json
  description: "FTS Connection-Status (ONLINE/OFFLINE) - Will Message"
  assumption: "FTS serialNumber: 5iO4 connectionState: ONLINE"
  # APS as-IS Observation:
  observed_publisher_aps: "FTS (5iO4 - TXT-Controller)"
  observed_subscriber_aps: "CCU-Backend (Pairing Module), Dashboards"
  # OMF2 Guidance (manual configuration):
  semantic_role: connection_status
  triggers: null
  omf2_usage: "FTSManager → subscribe for FTS connection state (LWT detection)"
  # Verification:
  verified: false
  data_source: "Not found in orderBlueLocal_orderRedCloud (FTS already connected)"
- topic: fts/v1/ff/5iO4/state
  qos: 2
  retain: 1
  schema: fts_v1_ff_serial_state.schema.json
  description: "FTS State Updates - position, battery, load, actionState (high frequency)"
  assumption: "FTS batteryState, load, actionState"
  # APS as-IS Observation:
  observed_publisher_aps: "FTS (5iO4 - TXT-Controller)"
  observed_subscriber_aps: "CCU-Backend (Order Management, Navigation), Dashboards"
  # OMF2 Guidance (manual configuration):
  semantic_role: fts_telemetry
  triggers: null
  omf2_usage: "FTSManager → subscribe for FTS state (position tracking, order progress)"
  # Verification:
  verified: true
  data_source: "Session analysis - 72 messages per order (dominant topic in order workflow)"
- topic: fts/v1/ff/5iO4/order
  qos: 2
  retain: 0
  schema: fts_v1_ff_serial_order.schema.json
  description: "FTS Navigation Order - sent by CCU with UUID, nodes, edges (VDA5050)"
  assumption: "TODO"
  # APS as-IS Observation:
  observed_publisher_aps: "CCU-Backend (Navigation Module - sendNavigationRequest)"
  observed_subscriber_aps: "FTS (5iO4 - Navigation Controller)"
  # OMF2 Guidance (manual configuration):
  semantic_role: navigation_command
  triggers: fts_navigation
  omf2_usage: "OrderManager → publish FTS orders (after UUID generation)"
  omf2_note: "FIRST topic with orderId in workflow - this is where UUID appears!"
  # Verification:
  verified: true
  data_source: "Session orderBlueLocal_orderRedCloud - 2 messages (first topic with UUID), Code: modules/fts/navigation/navigation.js"
  analysis_note: "Message #128: First appearance of orderId in workflow (5 messages after ccu/order/request)"
- topic: fts/v1/ff/5iO4/factsheet
  qos: 2
  retain: 1
  schema: fts_v1_ff_serial_factsheet.schema.json
  description: "FTS Factsheet - capabilities, loadSpecification, loadsets (VDA5050)"
  assumption: "FTS serialNumber: 5iO4 loadSpecification, loadsets"
  # APS as-IS Observation:
  observed_publisher_aps: "FTS (5iO4 - TXT-Controller)"
  observed_subscriber_aps: "CCU-Backend, Dashboards"
  # OMF2 Guidance (manual configuration):
  semantic_role: capability_announcement
  triggers: null
  omf2_usage: "FTSManager → subscribe for FTS capabilities (startup discovery)"
  # Verification:
  verified: false
  data_source: "Not found in orderBlueLocal_orderRedCloud (likely sent at FTS startup only)"
