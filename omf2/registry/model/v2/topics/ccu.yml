metadata:
  version: "2.0.0"
  last_updated: "2025-09-28"
  author: "OMF Development Team"
  description: "CCU Topics mit QoS/Retain und Publisher/Subscriber-Mapping"

# CCU Topics
ccu_topics:
  # CCU State Topics (Dashboard → CCU)
  - { topic: "ccu/order/request", qos: 2, retain: 0 }
  - { topic: "ccu/state", qos: 1, retain: 0 }
  - { topic: "ccu/state/flow", qos: 1, retain: 0 }
  - { topic: "ccu/state/status", qos: 1, retain: 0 }
  - { topic: "ccu/state/error", qos: 1, retain: 0 }
  - { topic: "ccu/state/stock", qos: 1, retain: 0 }
  - { topic: "ccu/state/version-mismatch", qos: 2, retain: 1 }
  - { topic: "ccu/state/layout", qos: 1, retain: 1 }
  - { topic: "ccu/state/config", qos: 1, retain: 1 }
  - { topic: "ccu/state/flows", qos: 1, retain: 1 }

  # CCU Control Topics (CCU → System)
  - { topic: "ccu/control", qos: 1, retain: 0 }
  - { topic: "ccu/control/command", qos: 1, retain: 0 }
  - { topic: "ccu/control/order", qos: 1, retain: 0 }
  - { topic: "ccu/set/reset", qos: 2, retain: 0 }
  - { topic: "ccu/global", qos: 2, retain: 0 }

  # CCU Status Topics (CCU → Dashboard)
  - { topic: "ccu/status", qos: 1, retain: 1 }
  - { topic: "ccu/status/connection", qos: 1, retain: 1 }
  - { topic: "ccu/status/health", qos: 1, retain: 1 }

  # CCU Pairing Topics (CCU ↔ System)
  - { topic: "ccu/pairing/state", qos: 2, retain: 1 }
  - { topic: "ccu/order/active", qos: 1, retain: 0 }
  - { topic: "ccu/order/completed", qos: 1, retain: 0 }

  # CCU System Control Topics (CCU → System)
  - { topic: "ccu/set/charge", qos: 1, retain: 0 }
  - { topic: "ccu/set/layout", qos: 1, retain: 0 }
  - { topic: "ccu/set/flows", qos: 1, retain: 0 }
  - { topic: "ccu/set/calibration", qos: 1, retain: 0 }
  - { topic: "ccu/set/park", qos: 1, retain: 0 }
  - { topic: "ccu/set/delete-module", qos: 1, retain: 0 }
  - { topic: "ccu/set/module-duration", qos: 1, retain: 0 }
  - { topic: "ccu/set/default_layout", qos: 1, retain: 0 }
  - { topic: "ccu/set/config", qos: 1, retain: 0 }

# Publisher/Subscriber-Mapping ist in mqtt_clients.yml definiert
