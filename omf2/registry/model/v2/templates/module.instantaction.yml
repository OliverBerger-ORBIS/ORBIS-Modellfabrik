metadata:
  version: "2.0.0"
  last_updated: "2025-09-28"
  author: "OMF Development Team"
  description: "Module InstantAction Template - Generisch für alle Module"

template:
  name: "module.instantaction"
  template_category: "MODULE"
  template_sub_category: "InstantAction"
  
  # Template für module/v1/ff/{module_id}/instantAction
  schema:
    type: "object"
    properties:
      action_id:
        type: "string"
        description: "Unique action identifier"
        example: "ACT-2025-09-28-001"
      module_id:
        type: "string"
        description: "Target module serial number"
        example: "SVR3QA0022"
      action_type:
        type: "string"
        enum: ["emergency_stop", "reset", "calibrate", "test", "maintenance", "diagnostic"]
        description: "Type of instant action"
        example: "emergency_stop"
      priority:
        type: "string"
        enum: ["low", "medium", "high", "critical"]
        description: "Action priority"
        example: "critical"
      parameters:
        type: "object"
        description: "Action-specific parameters"
        example:
          force_stop: true
          reset_position: true
          diagnostic_level: "full"
      timestamp:
        type: "string"
        format: "date-time"
        description: "Action creation timestamp"
        example: "2025-09-28T16:24:55Z"
      requester:
        type: "string"
        description: "Action requester (client_id)"
        example: "omf_ccu"
      timeout:
        type: "integer"
        description: "Action timeout in seconds"
        example: 30
      status:
        type: "string"
        enum: ["pending", "executing", "completed", "failed", "timeout"]
        description: "Action status"
        example: "pending"
    
    required: ["action_id", "module_id", "action_type", "priority", "timestamp", "requester"]

  # Beispiel-Payload
  example:
    action_id: "ACT-2025-09-28-001"
    module_id: "SVR3QA0022"
    action_type: "emergency_stop"
    priority: "critical"
    parameters:
      force_stop: true
      reset_position: true
      diagnostic_level: "full"
    timestamp: "2025-09-28T16:24:55Z"
    requester: "omf_ccu"
    timeout: 30
    status: "pending"
