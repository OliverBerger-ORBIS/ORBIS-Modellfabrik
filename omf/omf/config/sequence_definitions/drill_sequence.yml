context:
  module_serial: SVR4H76449
  module_type: DRILL
description: 'Komplette DRILL-Sequenz: PICK → DRILL → DROP'
name: drill_complete_sequence
steps:
- name: PICK
  payload:
    action: PICK
    orderId: '{{orderId}}'
    orderUpdateId: '{{orderUpdateId}}'
  topic: module/v1/ff/{{module_serial}}/order
  wait_condition:
    payload_contains:
      actionState: IDLE
    topic: module/v1/ff/{{module_serial}}/state
- name: DRILL
  payload:
    action: DRILL
    orderId: '{{orderId}}'
    orderUpdateId: '{{orderUpdateId}}'
  topic: module/v1/ff/{{module_serial}}/order
  wait_condition:
    payload_contains:
      actionState: IDLE
    topic: module/v1/ff/{{module_serial}}/state
- name: DROP
  payload:
    action: DROP
    orderId: '{{orderId}}'
    orderUpdateId: '{{orderUpdateId}}'
  topic: module/v1/ff/{{module_serial}}/order
