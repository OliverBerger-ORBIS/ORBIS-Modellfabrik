# ORBIS Modellfabrik - Cursor AI Kontext

## Projekt-Ziel
Entwicklung einer eigenen Steuerungsanwendung f√ºr die APS Fischertechnik Miniatur-Fabrik durch Analyse der bestehenden Nachrichten-Kommunikation.

## Aktuelle Phase: Session-Analyse
- **Fokus:** Verstehen der MQTT-Nachrichten-Semantik
- **Tool:** Session Manager (Helper App)
- **Status:** Timeline-Visualisierung und Filterung implementiert

## Wichtige Konzepte
- **APS-Fischertechnik:** Reale Miniatur-Fabrik mit Modulen
- **MQTT-Kommunikation:** Nachrichten zwischen Fabrik-Komponenten
- **Session-Recording:** Aufnahme der realen Nachrichten-Str√∂me
- **OMF Dashboard:** Hauptanwendung f√ºr Fabrik-Steuerung
- **Session Manager:** Unabh√§ngige Helper-App f√ºr Session-Replay

## System-Architektur
- **OMF Dashboard**: Hauptanwendung (Port 8503)
- **Session Manager**: Unabh√§ngige Helper-App (Port 8507)
- **Keine direkte Kopplung**: Beide Systeme arbeiten unabh√§ngig
- **Replay-Funktionalit√§t**: Session Manager spielt Sessions √ºber lokalen MQTT-Broker ab

## Technische Architektur
- **Session-Format:** JSON-basierte Logs
- **Topic-Struktur:** Hierarchische MQTT-Topics
- **Filter-System:** Vorfilter + Kategorie/Sub-Kategorie-Filter
- **Settings:** Persistente Konfiguration f√ºr Vorfilter-Topics

## Entwicklungsregeln
- Absolute Imports: `from src_orbis.omf.module import Class`
- Tests in `tests_orbis/` mit branch-spezifischer Ausf√ºhrung
- Pre-commit Hooks: Black (120 Zeilen), Ruff (E501 ignoriert)
- Keine relativen Imports oder sys.path Manipulation

## Aktuelle Session Manager Features
- ‚úÖ Session Loading (JSON + Legacy Format)
- ‚úÖ Timeline-Visualisierung (Plotly)
- ‚úÖ Topic-Filterung (4 Modi)
- ‚úÖ Vorfilter-System mit Settings
- ‚úÖ Zeitfilter (Slider)
- ‚úÖ Payload-Details
- üîÑ Template-Analyse (geplant)
- üîÑ Replay-Station (geplant)

## N√§chste Schritte
1. Template-Analyse f√ºr Message-Generator
2. Replay-Station f√ºr Dashboard-Tests
3. OMF Dashboard Funktionalit√§ts-Erweiterung
4. MessageGenerator Entwicklung

## Wichtige Hinweise
- **Keine Integration**: OMF Dashboard und Session Manager sind unabh√§ngig
- **Replay-Zweck**: Session Manager dient nur zum Abspielen von Sessions
- **Lokaler MQTT**: Replay erfolgt √ºber lokalen Mosquitto-Broker
- **Separate Entwicklung**: Beide Systeme werden unabh√§ngig weiterentwickelt
